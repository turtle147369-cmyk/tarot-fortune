<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>星河占卜，塔罗启示</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zhi+Mang+Xing&family=Noto+Serif+SC:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative&display=swap" rel="stylesheet">
    <style>
	.intro-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle at center, #1a0933, #0d0126 80%);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    z-index: 2000;
    animation: fadeOut 2s ease forwards;
    animation-delay: 3s; /* 动画展示 3 秒后淡出 */
}

/* 标题动画 */
.intro-title {
    font-family: 'Zhi Mang Xing', cursive;
    font-size: 3.5em;
    color: #ffda6b;
    text-shadow: 0 0 20px rgba(255, 218, 107, 0.9), 0 0 8px rgba(255, 218, 107, 0.6);
    opacity: 0;
    animation: fadeInUp 2s ease forwards;
}

/* 副标题 */
.intro-subtitle {
        font-family: 'Cinzel Decorative', serif;
        font-size: 1.6em;
        margin-top: 20px;
        color:#ffda6b;
        text-shadow: 0 0 12px rgba(230, 207, 255, 0.6);
        opacity: 0;
        animation: fadeIn 1.5s ease forwards;
        animation-delay: 1.5s;
		text-align: center;
		align-self: center;
		width: 100%;
    }

/* 动画效果 */
@keyframes fadeInUp {
    0% { opacity: 0; transform: translateY(30px); }
    100% { opacity: 1; transform: translateY(0); }
}

@keyframes fadeIn {
    0% { opacity: 0; }
    100% { opacity: 1; }
}

@keyframes fadeOut {
    0% { opacity: 1; }
    100% { opacity: 0; visibility: hidden; }
}

        /* 通用样式 */
        body {
            font-family: 'Noto Serif SC', serif;
            margin: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            background-color: #0d0126;
            color: #f0e0ff;
            overflow-x: hidden;
            line-height: 1.7;
            position: relative;
            padding-bottom: 50px;
        }

        .background-gradient {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                linear-gradient(135deg, transparent 50%, rgba(20, 100, 150, 0.4) 80%),
                linear-gradient(25deg, transparent 50%, rgba(125, 38, 172, 0.4) 80%),
                linear-gradient(105deg, transparent 50%, rgba(90, 20, 138, 0.4) 80%),
                linear-gradient(195deg, transparent 50%, rgba(58, 15, 90, 0.4) 80%),
                radial-gradient(ellipse at 80% 80%, rgba(255, 218, 107, 0.2), transparent 60%);
            background-size: 100% 200%, 100% 200%, 100% 200%, 100% 200%, 100% 100%;
            background-repeat: repeat-y, repeat-y, repeat-y, repeat-y, no-repeat;
            animation: auroraFlow 10s linear infinite;
            opacity: 0.9;
            z-index: -2;
        }

        @keyframes auroraFlow {
            0% { background-position: 0% 0%, 0% 0%, 0% 0%, 0% 0%, 80% 80%; }
            100% { background-position: 0% 100%, 0% 100%, 0% 100%, 0% 100%, 80% 80%; }
        }

        /* 动态星空和流星雨背景 */
        .star-field {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            /* 流星容器 */
            pointer-events: none;
        }

        /* 单个星星样式 */
        .star {
            position: absolute;
            background-color: #ffffff;
            border-radius: 50%;
            opacity: 0;
            animation: twinkle 1.5s infinite ease-in-out;
            transform: scale(0);
        }

        /* 星星闪烁动画 */
        @keyframes twinkle {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 0.8; transform: scale(1); }
        }
        
        /* 流星样式和动画 */
        .meteor {
            position: absolute;
            width: 2px;
            height: 1px;
            background: linear-gradient(to right, #ffffff, rgba(255, 255, 255, 0));
            border-radius: 50%;
            transform: rotate(45deg);
            animation: meteor-fall 5s linear forwards;
            pointer-events: none;
            z-index: 0;
        }
        
        /* 流星尾巴效果 */
        .meteor::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            width: 150px;
            height: 2px;
            background: linear-gradient(to right, rgba(255, 255, 255, 0), #ffffff);
            transform: rotate(0deg);
        }

        /* 流星下落动画 */
        @keyframes meteor-fall {
            0% {
                transform: translateX(0px) translateY(-50px) rotate(45deg);
                opacity: 0.8;
            }
            100% {
                transform: translateX(400px) translateY(400px) rotate(45deg);
                opacity: 0;
            }
        }

        .container {
            text-align: center;
            position: relative;
            z-index: 10;
            padding: 40px 20px;
            max-width: 800px;
            width: 90%;
            margin: 50px auto;
        }

        .title {
            font-family: 'Zhi Mang Xing', cursive;
            font-size: 4em;
            margin-bottom: 15px;
            color: #ffda6b;
            text-shadow: 0 0 20px rgba(255, 218, 107, 0.8), 0 0 8px rgba(255, 218, 107, 0.6);
            letter-spacing: 3px;
            line-height: 1.2;
        }

        .subtitle {
            font-family: 'Noto Serif SC', serif;
            font-size: 1.4em;
            margin-bottom: 50px;
            color: #e6cfff;
            text-shadow: 0 0 5px rgba(230, 207, 255, 0.3);
        }

        .form-card, .result-card {
            background-color: rgba(30, 15, 50, 0.6);
            backdrop-filter: blur(15px);
            border-radius: 25px;
            padding: 40px;
            border: 2px solid rgba(255, 218, 107, 0.4);
            box-shadow: 0 10px 50px rgba(0, 0, 0, 0.5), inset 0 0 20px rgba(255, 218, 107, 0.15);
            transition: transform 0.5s ease-in-out, box-shadow 0.5s ease-in-out;
        }

        .form-card:hover {
            transform: translateY(-10px) scale(1.01);
            box-shadow: 0 15px 60px rgba(0, 0, 0, 0.7), inset 0 0 25px rgba(255, 218, 107, 0.25);
        }

        .result-hidden {
            display: none;
        }

        .input-group {
            margin-bottom: 35px;
            text-align: left;
        }

        .input-group label {
            display: block;
            margin-bottom: 15px;
            font-size: 1.3em;
            color: #f0e0ff;
            font-weight: bold;
            text-shadow: 0 0 5px rgba(240, 224, 255, 0.3);
        }

        input[type="text"] {
            width: 100%;
            padding: 18px;
            border: 1px solid rgba(255, 218, 107, 0.3);
            background: rgba(255, 255, 255, 0.08);
            color: #fff;
            border-radius: 12px;
            font-size: 1.15em;
            box-sizing: border-box;
            transition: background-color 0.4s, border-color 0.4s, box-shadow 0.4s;
        }

        input[type="text"]::placeholder {
            color: #c4b8e0;
            opacity: 0.8;
        }

        input[type="text"]:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.15);
            border-color: #ffda6b;
            box-shadow: 0 0 15px rgba(255, 218, 107, 0.6);
        }

        .date-selects {
            display: flex;
            justify-content: space-between;
            gap: 15px;
        }

        .date-selects select {
            flex: 1;
            padding: 18px 15px;
            border: 1px solid rgba(255, 218, 107, 0.3);
            background: rgba(255, 255, 255, 0.08);
            color: #f0e0ff;
            border-radius: 12px;
            font-size: 1.1em;
            cursor: pointer;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23ffda6b%22%20d%3D%22M287%20114.2L146.2%20255.7%205.4%20114.2h281.6z%22%2F%3E%3C%2Fsvg%3E');
            background-repeat: no-repeat;
            background-position: right 15px center;
            background-size: 12px;
            padding-right: 40px;
        }

        .date-selects select option,
        #spread-select option {
            background-color: #0d0126;
            color: #f0e0ff;
        }

        #spread-select {
            width: 100%;
            padding: 18px 15px;
            border: 1px solid rgba(255, 218, 107, 0.3);
            background: rgba(255, 255, 255, 0.08);
            color: #f0e0ff;
            border-radius: 12px;
            font-size: 1.1em;
            cursor: pointer;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23ffda6b%22%20d%3D%22M287%20114.2L146.2%20255.7%205.4%20114.2h281.6z%22%2F%3E%3C%2Fsvg%3E');
            background-repeat: no-repeat;
            background-position: right 15px center;
            background-size: 12px;
            padding-right: 40px;
        }

        /* 按钮 */
        .glow-on-hover {
            padding: 18px;
            background-color: #ffda6b;
            color: #1a0a2f;
            border: none;
            border-radius: 12px;
            font-size: 1.6em;
            font-weight: bold;
            cursor: pointer;
            letter-spacing: 2px;
            transition: background-color 0.4s, transform 0.3s, box-shadow 0.4s;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .glow-on-hover:hover {
            background-color: #e0c25e;
            transform: translateY(-5px) scale(1.03);
            box-shadow: 0 12px 30px rgba(255, 218, 107, 0.6);
        }

        /* 牌阵容器 */
        .spread-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
            min-height: auto;
        }

        /* 卡牌的通用样式 */
        .tarot-card {
            width: 100%;
            height: auto;
            display: block;
	    position: relative;
        }

        .tarot-card img {
            max-width: 100%;
            height: auto;
            border: 3px solid rgba(255, 218, 107, 0.7);
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
            transition: transform 0.3s ease-in-out;
        }
        
        /* 逆位牌旋转180度 */
        .tarot-card.reversed img {
            transform: rotate(180deg);
        }

        /* 悬停效果：卡牌抬升 */
        .tarot-card:hover img {
            transform: translateY(-5px) scale(1.05);
        }

        .tarot-card.reversed:hover img {
            transform: translateY(-5px) scale(1.05) rotate(180deg);
        }

        /* 牌位名称 */
        .card-position-name {
            font-size: 1.2em;
            color: #ffda6b;
            margin-bottom: 10px;
            display: block;
            text-shadow: 0 0 5px rgba(255, 218, 107, 0.4);
        }

        /* 塔罗牌名称 */
        .tarot-card-name-visible {
            font-family: 'Zhi Mang Xing', cursive;
            font-size: 1.6em;
            margin: 5px 0 0;
            color: #ffda6b;
            text-shadow: 0 0 5px rgba(255, 218, 107, 0.4);
        }

        /* 悬浮界面容器 */
        .card-hover-info {
            position: absolute;
            top: 0%;
            left: 0%;
            transform: translateY(-50%, -50%);
            background-color: rgba(30, 15, 50, 0.95);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 218, 107, 0.6);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.6);
            width: 250px;
            max-height: 400px;
            overflow-y: auto;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease-in-out, visibility 0.5s ease-in-out;
            z-index: 20;
            text-align: left;
            white-space: normal;
            pointer-events: none;
        }

        /* 鼠标悬停在 .tarot-card 容器上时显示悬浮界面 */
        .tarot-card:hover .card-hover-info,
        .tarot-card.active .card-hover-info {
            opacity: 1;
            visibility: visible;
            pointer-events: auto;
        }

        /* 悬浮界面中的字体样式 */
        .card-hover-info h3,
        .card-hover-info h4,
        .card-hover-info p {
            font-family: 'Noto Serif SC', serif;
            line-height: 1.6;
            color: #c9b1d3;
            margin: 5px 0;
        }
        
        .card-hover-info h4 {
            font-size: 1.2em;
            color: #f0e0ff;
            margin-top: 15px;
            border-bottom: 1px solid rgba(255, 218, 107, 0.3);
            padding-bottom: 5px;
        }
        
        .card-hover-info p {
            font-size: 1em;
            margin-top: 10px;
        }
        
        .card-hover-info .keywords,
        .card-hover-info .suggestion {
            font-style: italic;
            color: #ffda6b;
            font-size: 0.9em;
            margin-top: 15px;
        }

        /* 三牌阵布局 */
        three-card-spread {
        grid-template-columns: 1fr;
        grid-template-rows: repeat(3, auto);
        gap: 30px;
 	   }

  	  .three-card-spread .tarot-card {
        width: 160px;
        justify-self: center;
  	  }
        
        /* 五牌阵布局 */
        .five-card-spread {
            display: grid;
            grid-template-areas:
                ". top ."
                "left center right"
                ". bottom .";
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: 15px;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            min-height: auto;
        }

        /* 牌位与网格区域的对应 */
        .five-card-spread .top { grid-area: top; }
        .five-card-spread .left { grid-area: left; }
        .five-card-spread .center { grid-area: center; }
        .five-card-spread .right { grid-area: right; }
        .five-card-spread .bottom { grid-area: bottom; }

        .five-card-spread .tarot-card {
            width: 150px;
            align-self: center;
            justify-self: center;
        }

        /* 移动设备适配 */
        @media (max-width: 768px) {
            .five-card-spread {
                grid-template-areas:
                    "top"
                    "left"
                    "center"
                    "right"
                    "bottom";
                grid-template-columns: 1fr;
                grid-template-rows: repeat(5, auto);
                gap: 30px;
            }
            .tarot-card {
                width: 160px;
            }
            input[type="text"],
            .date-selects select,
            #spread-select {
                padding: 15px;
            }
        }
        
        /* 消息提示框的半透明背景，覆盖整个屏幕 */
        .message-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            z-index: 999;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        /* 消息框本体 */
        .message-box {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(30, 15, 50, 0.9);
            border-radius: 20px;
            padding: 30px 40px;
            border: 2px solid #ffda6b;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.8), inset 0 0 10px rgba(255, 218, 107, 0.4);
            text-align: center;
            max-width: 350px;
            width: 80%;
            color: #f0e0ff;
            animation: fadeIn 0.3s ease-in-out;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        /* 消息框的进入动画 */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }
        
        .message-box p {
            margin: 0;
            font-size: 1.2em;
            font-weight: bold;
            text-shadow: 0 0 5px rgba(255, 218, 107, 0.4);
        }
        
        .message-box button {
            padding: 12px 25px;
            background-color: #ffda6b;
            color: #1a0a2f;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s, box-shadow 0.3s;
        }
        
        .message-box button:hover {
            background-color: #e0c25e;
            transform: translateY(-2px);
            box-shadow: 5px 15px rgba(255, 218, 107, 0.6);
        }

    </style>
</head>
<body>
    <div class="intro-screen">
    <div class="intro-title">星河占卜</div>
    <div class="intro-subtitle">塔罗启示，指引命运之路</div>
</div>
    <div class="background-gradient"></div>

    <div class="star-field"></div>

    <div class="container">
        <h1 class="title">星河占卜，塔罗启示</h1>
        <p class="subtitle">选择一种牌阵后，集中精神默念需要指引的问题...</p>

        <div id="form-card" class="form-card">
            <div class="input-group">
                <label for="name">你的称谓</label>
                <input type="text" id="name" placeholder="请输入你的名字或昵称">
            </div>

            <div class="input-group">
                <label>出生年 / 月 / 日</label>
                <div class="date-selects">
                    <select id="year-select"></select>
                    <select id="month-select"></select>
                    <select id="day-select"></select>
                </div>
            </div>

            <div class="input-group">
                <label for="spread-select">选择想占卜的牌阵</label>
                <select id="spread-select">
                    <option value="three-card">三牌阵: 过去-现在-未来</option>
                    <option value="five-card">五牌阵: 十字阵列</option>
                </select>
            </div>

            <button id="fortune-btn" class="glow-on-hover">静心冥想，开始占卜</button>
        </div>

        <div id="result-card" class="result-card result-hidden">
            <div class="spread-container"></div>
            <button class="glow-on-hover" onclick="restart()">重新占卜</button>
        </div>
    </div>

    <script>
window.addEventListener('load', () => {
    const intro = document.querySelector('.intro-screen');
    setTimeout(() => {
        intro.style.display = 'none';
    }, 3000); // 5 秒后彻底移除
});
        document.addEventListener('DOMContentLoaded', () => {
            const yearSelect = document.getElementById('year-select');
            const monthSelect = document.getElementById('month-select');
            const daySelect = document.getElementById('day-select');
            const nameInput = document.getElementById('name');
            const fortuneBtn = document.getElementById('fortune-btn');
            const formCard = document.getElementById('form-card');
            const resultCard = document.getElementById('result-card');
            const starField = document.querySelector('.star-field');
            const cardHoverInfo = document.querySelector('.card-hover-info');

            // 年份菜单
            const currentYear = new Date().getFullYear();
            for (let i = 1950; i <= currentYear; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = i + ' 年';
                yearSelect.appendChild(option);
            }
            yearSelect.value = 2000;

            // 月份菜单
            for (let i = 1; i <= 12; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = i + ' 月';
                monthSelect.appendChild(option);
            }
            monthSelect.value = 1;

            // 更新天数
            function updateDays() {
                const year = parseInt(yearSelect.value);
                const month = parseInt(monthSelect.value);
                const daysInMonth = new Date(year, month, 0).getDate();
                daySelect.innerHTML = '';
                for (let i = 1; i <= daysInMonth; i++) {
                    const option = document.createElement('option');
                    option.value = i;
                    option.textContent = i + ' 日';
                    daySelect.appendChild(option);
                }
            }
            yearSelect.addEventListener('change', updateDays);
            monthSelect.addEventListener('change', updateDays);
            updateDays();
            
            // **新增**：生成闪烁的星星
            function createStars() {
                const numberOfStars = 150; // 星星的数量
                for (let i = 0; i < numberOfStars; i++) {
                    const star = document.createElement('div');
                    star.className = 'star';
                    const size = Math.random() * 2 + 1; // 随机大小
                    star.style.width = `${size}px`;
                    star.style.height = `${size}px`;
                    star.style.top = `${Math.random() * 100}%`;
                    star.style.left = `${Math.random() * 100}%`;
                    star.style.animationDelay = `${Math.random() * 1.5}s`;
                    starField.appendChild(star);
                }
            }
            createStars(); // 页面加载时生成星星

            // **新增**：生成流星雨
            function createMeteor() {
                const meteor = document.createElement('div');
                meteor.className = 'meteor';
                meteor.style.left = `${Math.random() * 100}%`;
                meteor.style.top = `${Math.random() * 20}%`; // 从页面顶部生成
                starField.appendChild(meteor);

                // 动画结束后移除流星元素
                meteor.addEventListener('animationend', () => {
                    meteor.remove();
                });
            }

            // 每隔一段时间生成一颗流星
            setInterval(createMeteor, 3000); // 每3秒生成一颗流星

            // 塔罗牌数据
            const majorArcana = [
                {
                    name: '愚者',
                    title: 'The Fool',
                    image: 'images/the_fool.png',
                    uprightMeaning: '新的开始、自由、纯真、冒险、潜力、无忧无虑。',
                    reversedMeaning: '鲁莽、不负责任、缺乏方向、轻率、被束缚。',
                    keywords: '冒险, 新开始, 自由, 潜能',
                    suggestion: '拥抱新的可能性，放手一搏，但请记住保持理性和责任心。详细解读请至abc169.vip'
                },
                {
                    name: '魔术师',
                    title: 'The Magician',
                    image: 'images/the_magician.png',
                    uprightMeaning: '力量、技巧、专注、创造力、实现目标。',
                    reversedMeaning: '欺骗、操纵、缺乏力量、无能为力。',
                    keywords: '行动力, 技能, 创造, 专注',
                    suggestion: '你拥有实现目标所需的一切。现在是采取行动，将想法变为现实的最佳时机。详细解读请至abc169.vip'
                },
                {
                    name: '女祭司',
                    title: 'The High Priestess',
                    image: 'images/the_high_priestess.png',
                    uprightMeaning: '直觉、潜意识、神秘、内在智慧、安静、耐心。',
                    reversedMeaning: '隐藏的秘密、直觉被忽略、表面化、情绪不稳定。',
                    keywords: '直觉, 神秘, 智慧, 洞察',
                    suggestion: '倾听你内心的声音，相信你的直觉。答案可能就在你内心深处，而非外部世界。详细解读请至abc169.vip'
                },
                {
                    name: '皇后',
                    title: 'The Empress',
                    image: 'images/the_empress.png',
                    uprightMeaning: '丰收、生育、母性、自然、美丽、创造力。',
                    reversedMeaning: '停滞、不孕、依赖他人、缺乏创意、物质主义。',
                    keywords: '丰饶, 创造力, 美, 母性',
                    suggestion: '你正处于一个充满创造力和丰收的时期。照顾好自己，享受生活中的美好。详细解读请至abc169.vip'
                },
                {
                    name: '皇帝',
                    title: 'The Emperor',
                    image: 'images/the_emperor.png',
                    uprightMeaning: '权威、结构、秩序、领导力、控制、稳固。',
                    reversedMeaning: '暴君、独裁、缺乏控制、刚愎自用。',
                    keywords: '权威, 领导力, 秩序, 稳定',
                    suggestion: '现在是时候建立稳固的基础和秩序了。展现你的领导力，掌控局面。详细解读请至abc169.vip'
                },
                {
                    name: '教皇',
                    title: 'The Hierophant',
                    image: 'images/the_hierophant.png',
                    uprightMeaning: '传统、信仰、价值观、指导、仪式。',
                    reversedMeaning: '反叛、非传统、束缚、落伍。',
                    keywords: '传统, 指引, 学习, 精神',
                    suggestion: '寻求一位导师或遵循既定的道路，以获得所需的智慧和指引。详细解读请至abc169.vip'
                },
                {
                    name: '恋人',
                    title: 'The Lovers',
                    image: 'images/the_lovers.png',
                    uprightMeaning: '选择、爱、关系、和谐、价值观。',
                    reversedMeaning: '冲突、不和谐、不负责任的选择、分离。',
                    keywords: '爱, 选择, 关系, 价值观',
                    suggestion: '你正面临一个重要的决定，它将影响你的人际关系和未来。跟随你的心，做出正确的选择。详细解读请至abc169.vip'
                },
                {
                    name: '战车',
                    title: 'The Chariot',
                    image: 'images/the_chariot.png',
                    uprightMeaning: '意志力、决心、胜利、控制、自信。',
                    reversedMeaning: '缺乏控制、失败、方向不明、冲动。',
                    keywords: '胜利, 决心, 控制, 成功',
                    suggestion: '勇往直前，克服一切障碍。你的决心和自信将引领你走向胜利。详细解读请至abc169.vip'
                },
                {
                    name: '力量',
                    title: 'Strength',
                    image: 'images/strength.png',
                    uprightMeaning: '勇气、同情心、内在力量、耐心、对本能的驾驭。',
                    reversedMeaning: '软弱、自我怀疑、缺乏自信、恐惧。',
                    keywords: '勇气, 力量, 同情心, 内心',
                    suggestion: '真正的力量源于内心的平静与温柔。用勇气和同情心去面对挑战。详细解读请至abc169.vip'
                },
                {
                    name: '隐士',
                    title: 'The Hermit',
                    image: 'images/the_hermit.png',
                    uprightMeaning: '内省、孤独、寻求真理、自我发现。',
                    reversedMeaning: '孤立、退缩、孤独、不愿面对现实。',
                    keywords: '内省, 智慧, 孤独, 沉思',
                    suggestion: '现在是时候退一步思考，寻找内在的智慧和指引了。独处将为你带来答案。详细解读请至abc169.vip'
                },
                {
                    name: '命运之轮',
                    title: 'Wheel of Fortune',
                    image: 'images/wheel_of_fortune.png',
                    uprightMeaning: '循环、命运、转折、好运、改变。',
                    reversedMeaning: '厄运、停滞、失控、无法预测的变化。',
                    keywords: '命运, 变化, 机会, 周期',
                    suggestion: '生活正发生不可预测的变化，把握机会，迎接新的开始。详细解读请至abc169.vip'
                },
                {
                    name: '正义',
                    title: 'Justice',
                    image: 'images/justice.png',
                    uprightMeaning: '公平、真理、因果、法律、平衡。',
                    reversedMeaning: '不公正、偏见、不诚实、逃避责任。',
                    keywords: '公平, 真理, 平衡, 因果',
                    suggestion: '所有行为都将带来相应的后果。确保你的行为公正，并为自己的决定负责。详细解读请至abc169.vip'
                },
                {
                    name: '倒吊人',
                    title: 'The Hanged Man',
                    image: 'images/the_hanged_man.png',
                    uprightMeaning: '新的视角、牺牲、放下、暂停、洞察。',
                    reversedMeaning: '固执、无谓的牺牲、停滞不前、不愿改变。',
                    keywords: '新视角, 牺牲, 放下, 等待',
                    suggestion: '从不同的角度看问题。暂时放下控制，你将获得新的洞察。详细解读请至abc169.vip'
                },
                {
                    name: '死神',
                    title: 'Death',
                    image: 'images/death.png',
                    uprightMeaning: '结束、转变、重生、释放、新的开始。',
                    reversedMeaning: '停滞、抗拒改变、恐惧、拒绝放手。',
                    keywords: '结束, 转变, 重生, 释放',
                    suggestion: '一个旧的阶段即将结束，新的开始即将到来。不要害怕改变，拥抱它，你将获得重生。详细解读请至abc169.vip'
                },
                {
                    name: '节制',
                    title: 'Temperance',
                    image: 'images/temperance.png',
                    uprightMeaning: '平衡、中庸、和谐、耐心、适应。',
                    reversedMeaning: '不平衡、冲突、极端、不和谐。',
                    keywords: '平衡, 和谐, 耐心, 融合',
                    suggestion: '将对立的力量融合在一起，保持平和的心态和中庸之道。详细解读请至abc169.vip'
                },
                {
                    name: '魔鬼',
                    title: 'The Devil',
                    image: 'images/the_devil.png',
                    uprightMeaning: '诱惑、束缚、物质主义、阴影面。',
                    reversedMeaning: '挣脱束缚、觉醒、挑战诱惑、获得自由。',
                    keywords: '诱惑, 欲望, 束缚, 物质',
                    suggestion: '面对你内心的阴影面。是时候挣脱那些束缚你的不良习惯或执念了。详细解读请至abc169.vip'
                },
                {
                    name: '高塔',
                    title: 'The Tower',
                    image: 'images/the_tower.png',
                    uprightMeaning: '突然的改变、混乱、颠覆、启示。',
                    reversedMeaning: '避免灾难、延迟改变、固执、恐惧。',
                    keywords: '巨变, 破坏, 启示, 混乱',
                    suggestion: '虽然过程痛苦，但它会摧毁不稳固的根基，为真正的成长腾出空间。详细解读请至abc169.vip'
                },
                {
                    name: '星星',
                    title: 'The Star',
                    image: 'images/the_star.png',
                    uprightMeaning: '希望、灵感、宁静、更新、治愈。',
                    reversedMeaning: '绝望、缺乏灵感、悲观、挫败。',
                    keywords: '希望, 灵感, 平静, 未来',
                    suggestion: '为你带来希望和清晰的指引。相信未来，你正被祝福着。详细解读请至abc169.vip'
                },
                {
                    name: '月亮',
                    title: 'The Moon',
                    image: 'images/the_moon.png',
                    uprightMeaning: '幻觉、潜意识、不安、直觉、恐惧。',
                    reversedMeaning: '看清真相、释放恐惧、克服不安。',
                    keywords: '幻觉, 不安, 潜意识, 直觉',
                    suggestion: '相信你的直觉来穿越不确定的时期，提防欺骗和自我欺骗。详细解读请至abc169.vip'
                },
                {
                    name: '太阳',
                    title: 'The Sun',
                    image: 'images/the_sun.png',
                    uprightMeaning: '成功、喜悦、活力、光明、幸福。',
                    reversedMeaning: '缺乏活力、悲伤、失败、乌云密布。',
                    keywords: '成功, 快乐, 活力, 光明',
                    suggestion: '这是塔罗牌中最积极的牌之一。它预示着一切都将顺利。尽情享受生活吧！详细解读请至abc169.vip'
                },
                {
                    name: '审判',
                    title: 'Judgement',
                    image: 'images/judgement.png',
                    uprightMeaning: '重生、审视、召唤、觉醒、评估。',
                    reversedMeaning: '自我怀疑、拒绝改变、推迟决定。',
                    keywords: '审判, 重生, 觉醒, 评估',
                    suggestion: '你正准备进入人生的新阶段。诚实地审视你的过去，并为未来做出决定。详细解读请至abc169.vip'
                },
                {
                    name: '世界',
                    title: 'The World',
                    image: 'images/the_world.png',
                    uprightMeaning: '完成、成就、整合、圆满、成功。',
                    reversedMeaning: '未完成、缺乏整合、停滞、延迟成功。',
                    keywords: '完成, 成就, 圆满, 整合',
                    suggestion: '它预示着一段旅程的成功结束。你已经实现了你的目标，尽情庆祝吧！详细解读请至abc169.vip'
                }
            ];

            function getRandomCards(num) {
                // 随机算法
                const shuffled = [...majorArcana].sort(() => 0.5 - Math.random());
                const selected = shuffled.slice(0, num);
                
                // 随机每张卡牌添加正逆位属性
                return selected.map(card => {
                    const isReversed = Math.random() < 0.5; // 50%几率逆位
                    return {
                        ...card,
                        isReversed
                    };
                });
            }

            fortuneBtn.addEventListener('click', () => {
                // 验证名称输入框是否为空
                if (nameInput.value.trim() === '') {
                    showMessageBox('请输入你的称谓，才能开始占卜哦！');
                    return; // 停止执行后续
                }

                const spreadType = document.getElementById('spread-select').value;
                let selectedCards = [];

                if (spreadType === 'three-card') {
                    const positions = ['过去 (Past)', '现在 (Present)', '未来 (Future)'];
                    selectedCards = getRandomCards(3).map((card, index) => ({
                        ...card,
                        position: positions[index]
                    }));
                } else if (spreadType === 'five-card') {
                    const positions = ['现状与目标', '挑战与机遇', '内在力量', '未来发展', '最终结果'];
                    selectedCards = getRandomCards(5).map((card, index) => ({
                        ...card,
                        position: positions[index]
                    }));
                }

                displayResult(spreadType, selectedCards);
            });

            function displayResult(spreadType, cards) {
                const spreadContainer = resultCard.querySelector('.spread-container');
                spreadContainer.innerHTML = '';

                if (spreadType === 'three-card') {
                    spreadContainer.className = 'spread-container three-card-spread';
                } else if (spreadType === 'five-card') {
                    spreadContainer.className = 'spread-container five-card-spread';
                }

                cards.forEach((card, index) => {
                    const cardDiv = document.createElement('div');
                    cardDiv.className = 'tarot-card';
                    
                    if (card.isReversed) {
                        cardDiv.classList.add('reversed');
                    }

                    if (spreadType === 'three-card') {
                        const positions = ['past-card', 'present-card', 'future-card'];
                        cardDiv.classList.add(positions[index]);
                    } else if (spreadType === 'five-card') {
                        const positions = ['top', 'left', 'center', 'right', 'bottom'];
                        cardDiv.classList.add(positions[index]);
                    }

                    const meaning = card.isReversed ? card.reversedMeaning : card.uprightMeaning;

                    cardDiv.innerHTML = `
                        <span class="card-position-name">${card.position}</span>
                        <img class="card-img" src="${card.image}" alt="${card.name}">
                        <div class="card-hover-info">
                            <h3 class="tarot-card-name">${card.name}</h3>
                            <h4 class="tarot-card-title">${card.isReversed ? '逆位' : '正位'} - ${card.title}</h4>
                            <p class="tarot-card-detail">${meaning}</p>
                            <p class="keywords">关键词：${card.keywords}</p>
                            <p class="suggestion">建议：${card.suggestion}</p>
                        </div>
                    `;
                    spreadContainer.appendChild(cardDiv);
                });

                formCard.classList.add('result-hidden');
                resultCard.classList.remove('result-hidden');
            }

            window.restart = function() {
                formCard.classList.remove('result-hidden');
                resultCard.classList.add('result-hidden');
                // 重置日期和天数
                yearSelect.value = 2000;
                monthSelect.value = 1;
                updateDays();
                nameInput.value = '';
            };

            function showMessageBox(message) {
                // 确保之前没有消息框，避免重复创建
                if (document.querySelector('.message-overlay')) {
                    return;
                }

                // 创建背景遮罩层
                const overlay = document.createElement('div');
                overlay.className = 'message-overlay';

                const messageBox = document.createElement('div');
                messageBox.className = 'message-box';
                messageBox.innerHTML = `
                    <div class="message-content">
                        <p>${message}</p>
                        <button class="message-ok glow-on-hover">确定</button>
                    </div>
                `;

                document.body.appendChild(overlay);
                document.body.appendChild(messageBox);

                const okButton = messageBox.querySelector('.message-ok');
                okButton.addEventListener('click', () => {
                    document.body.removeChild(overlay);
                    document.body.removeChild(messageBox);
                    
                    nameInput.focus();
                });
            }
        });
    </script>
</body>
</html>




